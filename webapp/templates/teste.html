<!DOCTYPE HTML>
<html>
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="//intridea.github.io/sketch.js/lib/sketch.min.js" type="text/javascript"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="//hongru.github.io/proj/canvas2image/canvas2image.js" type="text/javascript"></script>
    <style>
      body {
        margin: 10px;
        padding: 10px;
      }
    </style>
    <script type="text/javascript">
      $(function() {
        $('#simple_sketch').sketch();
        $('#simple_sketch').sketch('size', 20);
        $('#doit').click(function(){
          var canvas = $('#simple_sketch')[0];
          var data = canvas.toDataURL();
          $('#hidden').val(data);
          $('form')[0].submit();
          event.preventDefault();
        });
        
      });
    </script>
  </head>
  <body>
    <div class="row text-center">
      <h1>MNIST</h1>
      <p>Desenhe um número de 0 a 9 no quadro a esquerda e veja se nossa Inteligência Artificial consegue acertar o número desenhado!</p>
    </div>
    <br>
    <div class="row text-center">
      <div class="col-xs-offset-1 col-xs-5">
        <form method="post" action="" enctype="multipart/form-data">
          <canvas id="simple_sketch" name="canvas" width="300" height="300" style="border: 1px solid #ccc"></canvas>
          <input name="canvas" id="hidden" placeholder="question one" type="hidden" accept="image/*"/>
          <div class="tools">
            <!--input type="submit" class="button" id="send" value="Enviar"/-->
            <button id="doit">Enviar</button>
          </div>
        </form>
        <image id="theimage" ></image>
      </div>
      <h1>Você desenhou:</h1><br>
      <h1>{{resposta}}</h1>
    </div>
    <br>
    <div class="row text-center">
      <p>Quer saber como isto funciona? Veja o <a href="https://github.com/rafaelnovello/mnist-demo" target="_blank">repositório do projeto</a></p>
      <p>Baixe todas as imagens geradas nesta demo <a href="{{link}}" target="_blank">aqui!</a>. Os arquivos estão salvos no formato [previsão]-[data e hora].png</p>
    </div>
  </body>
</html>      